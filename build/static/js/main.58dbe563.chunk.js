(this["webpackJsonpstarter-grub-dash-front-end"]=this["webpackJsonpstarter-grub-dash-front-end"]||[]).push([[0],{27:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(1),a=r.n(n),s=r(20),i=r.n(s),l=r(5),o=r(2),d=r(3),j=r.p+"static/media/header.b16bb34d.jpg",b={background:"linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.7)), url(".concat(j,")"),backgroundPosition:"center",backgroundSize:"100% auto"};var u=function(){return Object(c.jsx)("div",{className:"jumbotron jumbotron-fluid text-white mb-0",style:b,children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{className:"display-1",children:"GrubDash"}),Object(c.jsxs)("p",{className:"lead",children:["The best restaurants near you deliver with ",Object(c.jsx)("em",{children:"GrubDash"}),"!"]})]})})};var h=function(){return Object(c.jsx)("div",{className:"NotFound",children:Object(c.jsx)("h1",{children:"Not Found"})})},O=r(7);r(27);var m=function(e){var t=e.cartCount,r=Object(l.h)(),n="/"===r.pathname?"nav-item active":"nav-item",a=r.pathname.match(/^\/dashboard/i)?"nav-item active":"nav-item";return Object(c.jsx)("div",{className:"bg-light mb-2",children:Object(c.jsxs)("nav",{className:"container navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:n,children:Object(c.jsxs)(O.b,{className:"nav-link",to:"/",children:[Object(c.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(c.jsx)("li",{className:a,children:Object(c.jsxs)(O.b,{className:"nav-link",to:"/dashboard",children:[Object(c.jsx)("span",{className:"oi oi-dollar"})," Dashboard"]})})]}),Object(c.jsx)("ul",{className:"navbar-nav",children:Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(O.b,{className:"nav-link",to:"/orders/new",children:[Object(c.jsx)("span",{className:"oi oi-cart fs-2"}),"\xa0Cart\xa0",Object(c.jsx)("span",{className:"badge badge-pill badge-dark",children:t||0})]})})})]})]})})},x=r(4),p=r.n(x),v=r(11),f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"http://localhost:5000",N=new Headers;function g(e,t){return y.apply(this,arguments)}function y(){return(y=Object(v.a)(p.a.mark((function e(t,r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,r);case 3:if(204!==(c=e.sent).status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,c.json();case 8:if(!(n=e.sent).error){e.next=11;break}return e.abrupt("return",Promise.reject({message:n.error}));case 11:return e.abrupt("return",n.data);case 14:if(e.prev=14,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=19;break}throw console.error(e.t0.stack),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return(w=Object(v.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/dishes"),e.next=3,g(r,{signal:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(v.a)(p.a.mark((function e(t,r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/orders"),n={method:"POST",headers:N,body:JSON.stringify({data:t}),signal:r},e.next=4,g(c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(p.a.mark((function e(t,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/orders/").concat(t),e.next=3,g(c,{signal:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(v.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/orders"),e.next=3,g(r,{signal:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(v.a)(p.a.mark((function e(t,r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/orders/").concat(t.id),n={method:"PUT",headers:N,body:JSON.stringify({data:t}),signal:r},e.next=4,g(c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(v.a)(p.a.mark((function e(t,r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/orders/").concat(t),n={method:"DELETE",signal:r},e.next=4,g(c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(v.a)(p.a.mark((function e(t,r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/dishes"),n={method:"POST",headers:N,body:JSON.stringify({data:t}),signal:r},e.next=4,g(c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(v.a)(p.a.mark((function e(t,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/dishes/").concat(t),e.next=3,g(c,{signal:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(v.a)(p.a.mark((function e(t,r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"/dishes/").concat(t.id),n={method:"PUT",headers:N,body:JSON.stringify({data:t}),signal:r},e.next=4,g(c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N.append("Content-Type","application/json");var q=function(e){var t=e.dish,r=e.children;return Object(c.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-3 my-2",children:Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("img",{src:t.image_url,className:"card-img-top",alt:"".concat(t.name," interior")}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title text-truncate",children:t.name}),Object(c.jsx)("p",{className:"card-text",children:t.description}),Object(c.jsxs)("p",{className:"card-text",children:["$ ",t.price]})]}),Object(c.jsx)("div",{className:"card-footer",children:r})]})})};var F=function(e){var t=e.error;return t&&Object(c.jsxs)("div",{className:"alert alert-danger m-2",children:["Error: ",t.message]})};var R=function(e){var t=e.addToCart,r=Object(n.useState)([]),a=Object(d.a)(r,2),s=a[0],i=a[1],l=Object(n.useState)(null),o=Object(d.a)(l,2),j=o[0],b=o[1];Object(n.useEffect)((function(){var e=new AbortController;return b(null),S(e.signal).then(i).catch(b),function(){return e.abort()}}),[]);var u=s.map((function(e){return Object(c.jsx)(q,{dish:e,children:Object(c.jsxs)("button",{className:"btn btn-primary",onClick:function(){return t(e)},children:[Object(c.jsx)("span",{className:"oi oi-plus"})," Add to cart"]})},e.id)}));return Object(c.jsxs)("main",{children:[Object(c.jsx)(F,{error:j}),Object(c.jsx)("div",{className:"row",children:u})]})},L=r(12);var U=function(e){var t=e.dish,r=t.id,n=t.name,a=t.quantity,s=t.price,i=e.setDishQuantity,l=e.deleteDish,o=e.readOnly;return Object(c.jsxs)("div",{className:"form-row mb-2",children:[Object(c.jsx)("div",{className:"col-md-2 col-lg-1",children:Object(c.jsx)("input",{type:"number",className:"form-control",name:r,value:a,disabled:o,onChange:function(e){var t=e.target.value;i(r,Number(t))}})}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("input",{type:"text",className:"form-control",disabled:!0,value:n})}),Object(c.jsx)("div",{className:"col-md-2 col-lg-1",children:Object(c.jsx)("input",{type:"text",className:"form-control",disabled:!0,value:"$ ".concat(s)})}),Object(c.jsx)("div",{className:"col-md-2 col-lg-1",children:Object(c.jsx)("input",{type:"text",className:"form-control",disabled:!0,value:"$ ".concat(s*a)})}),!1===o&&Object(c.jsx)("div",{className:"col-auto",children:Object(c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){l(r)},children:Object(c.jsx)("span",{className:"oi oi-trash"})})})]})};var B=function(e){var t=e.order,r=void 0===t?{deliverTo:"",mobilePhone:"",status:"pending",dishes:[]}:t,n=e.setOrder,a=(e.onCancel,e.onSubmit),s=e.children,i=e.readOnly,l=void 0!==i&&i,d=e.showStatus,j=void 0!==d&&d;function b(e){var t=e.target,r=t.name,c=t.value;n((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(L.a)({},r,c))}))}function u(e,t){n((function(r){var c=r.dishes.map((function(r){return Object(o.a)(Object(o.a)({},r),{},{quantity:r.id===e?Math.max(1,t):r.quantity})}));return Object(o.a)(Object(o.a)({},r),{},{dishes:c})}))}function h(e){n((function(t){return Object(o.a)(Object(o.a)({},t),{},{dishes:t.dishes.filter((function(t){return t.id!==e}))})}))}var O=r.dishes.map((function(e){return Object(c.jsx)(U,{dish:e,setDishQuantity:u,deleteDish:h,readOnly:l},e.id)})),m=r.dishes.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),a(r)},children:[Object(c.jsxs)("fieldset",{className:"mb-2",children:[j&&Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"status",children:"Order Status"}),Object(c.jsxs)("select",{className:"form-control",id:"status",name:"status",required:!0,value:r.status,placeholder:"Select a status for the order",disabled:l,onChange:b,children:[Object(c.jsx)("option",{value:"pending",children:"Pending"}),Object(c.jsx)("option",{value:"preparing",children:"Preparing"}),Object(c.jsx)("option",{value:"out-for-delivery",children:"Out for delivery"}),Object(c.jsx)("option",{value:"delivered",children:"Delivered"})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"deliverTo",children:"Delivery address"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"deliverTo",name:"deliverTo",required:!0,value:r.deliverTo,placeholder:"Enter the delivery address",disabled:l,onChange:b})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"deliverTo",children:"Mobile Number"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"mobileNumber",name:"mobileNumber",required:!0,value:r.mobileNumber,placeholder:"Enter your mobile number ",disabled:l,onChange:b})]}),Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsx)("div",{className:"col-md-2 col-lg-1",children:"Quantity"}),Object(c.jsx)("div",{className:"col",children:"Description"}),Object(c.jsx)("div",{className:"col-md-2 col-lg-1",children:"Price"}),Object(c.jsx)("div",{className:"col-md-2 col-lg-1",children:"Total"}),!1===l&&Object(c.jsxs)("div",{className:"col-auto",children:[Object(c.jsx)("span",{className:"oi oi-trash m-2"}),"\xa0"]})]}),O,Object(c.jsx)("div",{className:"form-row",children:Object(c.jsxs)("h3",{children:[Object(c.jsx)("span",{className:"text-muted",children:"Total:"})," $ ",m,".00"]})})]}),Object(c.jsx)("div",{className:"form-row",children:s})]})};var H=function(e){var t=e.order,r=e.setOrder,a=e.onSubmit,s=Object(l.g)(),i=Object(n.useState)(null),o=Object(d.a)(i,2),j=o[0],b=o[1];return Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Create Order"}),Object(c.jsx)(F,{error:j}),Object(c.jsxs)(B,{order:t,setOrder:r,onSubmit:function(e){b(null),function(e,t){return C.apply(this,arguments)}(e).then(a).catch(b)},children:[Object(c.jsx)("div",{className:"col-auto",children:Object(c.jsxs)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:function(){s.goBack()},children:[Object(c.jsx)("span",{className:"oi oi-x"})," Cancel"]})}),Object(c.jsx)("div",{className:"col-auto",children:Object(c.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:0===t.dishes.length,children:[Object(c.jsx)("span",{className:"oi oi-check"})," Submit"]})})]})]})};var $=function(){var e=Object(l.g)(),t=Object(l.i)().orderId,r=Object(n.useState)({}),a=Object(d.a)(r,2),s=a[0],i=a[1],o=Object(n.useState)(null),j=Object(d.a)(o,2),b=j[0],u=j[1];function h(){e.goBack()}Object(n.useEffect)((function(){var e=new AbortController;return k(t,e.signal).then(i).catch(u),function(){return e.abort()}}),[t]);var O=s.id?Object(c.jsxs)(B,{order:s,setOrder:i,onCancel:h,onSubmit:function(t){(function(e,t){return D.apply(this,arguments)})(t).then((function(t){return e.push("/orders/".concat(t.id))})).catch(u)},readOnly:"delivered"===s.status,showStatus:!0,children:[Object(c.jsxs)("div",{className:"mr-auto",children:[Object(c.jsxs)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:h,children:[Object(c.jsx)("span",{className:"oi oi-x"})," Cancel"]}),Object(c.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:"delivered"===s.status||0===s.dishes.length,children:[Object(c.jsx)("span",{className:"oi oi-check"})," Submit"]})]}),Object(c.jsx)("div",{className:"col-auto",children:Object(c.jsx)("button",{type:"button",className:"btn btn-danger",title:"Delete Order",disabled:"pending"!==s.status,onClick:function(){window.confirm("Delete this order?\n\nYou will not be able to recover it.")&&function(e,t){return P.apply(this,arguments)}(s.id).then((function(){return e.push("/dashboard")})).catch(u)},children:Object(c.jsx)("span",{className:"oi oi-trash"})})})]}):Object(c.jsx)("p",{children:"Loading..."});return Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Edit Order"}),Object(c.jsx)(F,{error:b}),O]})};var J=function(e){var t=e.onSubmit,r=e.onCancel,a=e.initialState,s=void 0===a?{name:"",description:"",image_url:"",price:""}:a,i=Object(n.useState)(s),l=Object(d.a)(i,2),j=l[0],b=l[1];function u(e){var t=e.target,r=t.name,c=t.value;b((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(L.a)({},r,c))}))}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t(j)},className:"restaurant-edit",children:Object(c.jsxs)("fieldset",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:j.name,required:!0,placeholder:"Dish Name",onChange:function(e){var t=e.target,r=t.name,c=t.value;b((function(e){var t;return Object(o.a)(Object(o.a)({},e),{},(t={},Object(L.a)(t,r,c),Object(L.a)(t,"image_url","https://dummyimage.com/360x360/292929/e3e3e3&text=".concat(encodeURI(c.trim()))),t))}))}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"description",children:"Description"}),Object(c.jsx)("textarea",{id:"description",name:"description",className:"form-control",rows:"4",required:!0,placeholder:"Brief description of the dish",value:j.description,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"imageUrl",children:"Image URL"}),Object(c.jsx)("input",{type:"text",id:"imageUrl",name:"image_url",className:"form-control",value:j.image_url,required:!0,placeholder:"Image URL",onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"price",children:"Price"}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"$"})}),Object(c.jsx)("input",{type:"number",id:"price",name:"price",className:"form-control","aria-label":"Price (to the nearest dollar)",required:!0,value:j.price,onChange:function(e){var t=e.target,r=t.name,c=t.value;b((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(L.a)({},r,parseInt(c,10)))}))}}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("span",{className:"input-group-text",children:".00"})})]})]}),Object(c.jsxs)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:r,children:[Object(c.jsx)("span",{className:"oi oi-x"})," Cancel"]}),Object(c.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(c.jsx)("span",{className:"oi oi-check"})," Submit"]})]})})})};var M=function(){var e=Object(l.g)(),t=Object(l.i)().dishId,r=Object(n.useState)({}),a=Object(d.a)(r,2),s=a[0],i=a[1],o=Object(n.useState)(null),j=Object(d.a)(o,2),b=j[0],u=j[1];Object(n.useEffect)((function(){var e=new AbortController;return function(e,t){return I.apply(this,arguments)}(t,e.signal).then(i).catch(u),function(){return e.abort()}}),[t]);var h=s.id?Object(c.jsx)(J,{initialState:s,onCancel:function(){e.goBack()},onSubmit:function(t){(function(e,t){return _.apply(this,arguments)})(t).then((function(){return e.push("/dashboard")})).catch(u)}}):Object(c.jsx)("p",{children:"Loading..."});return Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Edit Dish"}),Object(c.jsx)(F,{error:b}),h]})};var K=function(){var e=Object(l.g)(),t=Object(n.useState)(null),r=Object(d.a)(t,2),a=r[0],s=r[1];return Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Create Dish"}),Object(c.jsx)(F,{error:a}),Object(c.jsx)(J,{onSubmit:function(t){var r=new AbortController;return function(e,t){return A.apply(this,arguments)}(t,r.signal).then((function(){return e.push("/dashboard")})).catch(s),function(){return r.abort()}},onCancel:function(){e.goBack()}})]})};var Q=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],j=Object(n.useState)(null),b=Object(d.a)(j,2),u=b[0],h=b[1],m=Object(n.useState)(null),x=Object(d.a)(m,2),p=x[0],v=x[1];Object(n.useEffect)((function(){var e=new AbortController;return function(e){return T.apply(this,arguments)}(e.signal).then(a).catch(h),S(e.signal).then(o).catch(v),function(){return e.abort()}}),[]);var f=r.map((function(e,t){var r=e.dishes.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.deliverTo}),Object(c.jsx)("td",{children:e.mobileNumber}),Object(c.jsxs)("td",{children:["$ ",r]}),Object(c.jsx)("td",{children:e.status}),Object(c.jsx)("td",{children:Object(c.jsxs)(O.b,{to:"/orders/".concat(e.id,"/edit"),className:"btn btn-secondary",title:"Edit Order",children:[Object(c.jsx)("span",{className:"oi oi-pencil"})," Edit"]})})]},e.id)})),N=l.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.description}),Object(c.jsxs)("td",{children:["$ ",e.price]}),Object(c.jsx)("td",{children:Object(c.jsxs)(O.b,{to:"/dishes/".concat(e.id,"/edit"),className:"btn btn-secondary",title:"Edit Order",children:[Object(c.jsx)("span",{className:"oi oi-pencil"})," Edit"]})})]},e.id)}));return Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Dashboard"}),Object(c.jsx)("p",{className:"text-muted",children:"Eventually, dashboard will not be visible to all users; after login is added."}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12",children:Object(c.jsxs)("div",{className:"white-box",children:[Object(c.jsx)("div",{className:"d-md-flex mb-3",children:Object(c.jsx)("h4",{className:"box-title mb-0",children:"Orders"})}),Object(c.jsx)(F,{error:u}),Object(c.jsx)("div",{className:"table-responsive",children:Object(c.jsxs)("table",{className:"table no-wrap",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"border-top-0",children:"#"}),Object(c.jsx)("th",{className:"border-top-0",children:"DELIVERY ADDRESS"}),Object(c.jsx)("th",{className:"border-top-0",children:"PHONE"}),Object(c.jsx)("th",{className:"border-top-0",children:"TOTAL"}),Object(c.jsx)("th",{className:"border-top-0",children:"STATUS"})]})}),Object(c.jsx)("tbody",{children:f})]})})]})})}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12",children:Object(c.jsxs)("div",{className:"white-box",children:[Object(c.jsx)("div",{className:"d-md-flex mb-3",children:Object(c.jsx)("h4",{className:"box-title mb-0",children:"Dishes"})}),Object(c.jsx)(F,{error:p}),Object(c.jsxs)(O.b,{to:"/dishes/new",className:"btn btn-primary mr-2",children:[Object(c.jsx)("span",{className:"oi oi-plus"})," Create Dish"]}),Object(c.jsx)("div",{className:"table-responsive",children:Object(c.jsxs)("table",{className:"table no-wrap",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"border-top-0",children:"#"}),Object(c.jsx)("th",{className:"border-top-0",children:"NAME"}),Object(c.jsx)("th",{className:"border-top-0",children:"DESCRIPTION"}),Object(c.jsx)("th",{className:"border-top-0",children:"PRICE"})]})}),Object(c.jsx)("tbody",{children:N})]})})]})})})]})};var W=function(){var e=Object(l.g)(),t=Object(l.i)().orderId,r=Object(n.useState)({dishes:[]}),a=Object(d.a)(r,2),s=a[0],i=a[1],o=Object(n.useState)(null),j=Object(d.a)(o,2),b=j[0],u=j[1];Object(n.useEffect)((function(){var e=new AbortController;return k(t,e.signal).then(i).catch(u),function(){return e.abort()}}),[t]);var h=s.id?Object(c.jsx)(B,{order:s,readOnly:!0,showStatus:!0,children:Object(c.jsx)("div",{className:"col-auto",children:Object(c.jsxs)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:function(){e.push("/")},children:[Object(c.jsx)("span",{className:"oi oi-home"})," Home"]})})}):Object(c.jsx)("p",{children:"Loading..."});return Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"Order Confirmed"}),Object(c.jsx)(F,{error:b}),h]})},G={deliverTo:"",mobilePhone:"",status:"pending",dishes:[]};var V=function(){var e=Object(l.g)(),t=Object(n.useState)(Object(o.a)({},G)),r=Object(d.a)(t,2),a=r[0],s=r[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u,{}),Object(c.jsx)(m,{cartCount:a.dishes.reduce((function(e,t){return e+t.quantity}),0)}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/orders",children:Object(c.jsx)(l.a,{to:"/dashboard"})}),Object(c.jsx)(l.b,{exact:!0,path:"/dishes",children:Object(c.jsx)(l.a,{to:"/dashboard"})}),Object(c.jsx)(l.b,{path:"/orders/new",children:Object(c.jsx)(H,{order:a,setOrder:s,onSubmit:function(t){s(Object(o.a)({},G)),e.push("/orders/".concat(t.id,"/confirmed"))}})}),Object(c.jsx)(l.b,{path:"/orders/:orderId/confirmed",children:Object(c.jsx)(W,{})}),Object(c.jsx)(l.b,{path:"/orders/:orderId/edit",children:Object(c.jsx)($,{})}),Object(c.jsx)(l.b,{path:"/dashboard",children:Object(c.jsx)(Q,{})}),Object(c.jsx)(l.b,{path:"/dishes/:dishId/edit",children:Object(c.jsx)(M,{})}),Object(c.jsx)(l.b,{path:"/dishes/new",children:Object(c.jsx)(K,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/",children:Object(c.jsx)(R,{addToCart:function(e){s((function(t){if(-1===t.dishes.findIndex((function(t){return t.id===e.id})))return Object(o.a)(Object(o.a)({},t),{},{dishes:t.dishes.concat(Object(o.a)(Object(o.a)({},e),{},{quantity:1}))});var r=t.dishes.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{quantity:t.quantity+(t.id===e.id)})}));return Object(o.a)(Object(o.a)({},t),{},{dishes:r})}))}})}),Object(c.jsx)(l.b,{children:Object(c.jsx)(h,{})})]})})]})};var Y=function(){return Object(c.jsx)("div",{className:"app-routes",children:Object(c.jsx)(l.d,{children:Object(c.jsx)(l.b,{path:"/",children:Object(c.jsx)(V,{})})})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O.a,{children:Object(c.jsx)(Y,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.58dbe563.chunk.js.map